{"version":3,"sources":["webpack:////Users/wangwenle/Documents/有钱花/搭伙/build-fire/TUIKit/components/TUIChat/message-input-toolbar/index.vue?9c75","webpack:////Users/wangwenle/Documents/有钱花/搭伙/build-fire/TUIKit/components/TUIChat/message-input-toolbar/index.vue?d028","webpack:////Users/wangwenle/Documents/有钱花/搭伙/build-fire/TUIKit/components/TUIChat/message-input-toolbar/index.vue?c68b","webpack:////Users/wangwenle/Documents/有钱花/搭伙/build-fire/TUIKit/components/TUIChat/message-input-toolbar/index.vue?19d2","uni-app:///TUIKit/components/TUIChat/message-input-toolbar/index.vue?vue&type=script&lang=ts&","webpack:////Users/wangwenle/Documents/有钱花/搭伙/build-fire/TUIKit/components/TUIChat/message-input-toolbar/index.vue?325d","webpack:////Users/wangwenle/Documents/有钱花/搭伙/build-fire/TUIKit/components/TUIChat/message-input-toolbar/index.vue?6995"],"names":["__sfc_main","options","styleIsolation","props","displayType","key","required","type","setup","__props","__ctx","currentConversation","isGroup","selectorShowType","userSelectorRef","currentUserSelectorExtension","currentExtensionList","isSwiperIndicatorDotsEnable","extensionList","TUICore","getExtensionList","TUIConstants","TUIChat","EXTENSION","INPUT_MORE","EXT_ID","conversationID","value","filter","extension","chatType","TUIChatConfig","getChatType","filterVoice","filterVideo","onCurrentConversationUpdate","conversation","length","TUIChatEngine","TYPES","CONV_GROUP","TUIStore","watch","StoreName","CONV","unwatch","onExtensionClick","extensionModel","find","targetExtension","data","name","onCallExtensionClicked","listener","onClicked","callType","CONV_C2C","userIDList","slice","toggleShow","genExtensionIcon","icon","genExtensionText","text","onUserSelectorSubmit","selectedInfo","onUserSelectorCancel","handleSwiperDotShow","showStatus","components","Object","assign","EmojiPickerDialog","ImageUpload","VideoUpload","ToolbarItemContainer","Evaluate","Words","UserSelector"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkH;AAClH;AACyD;AACL;AACc;;;AAGlE;AACyN;AACzN,gBAAgB,iNAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,gFAAM;AACR,EAAE,yFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACvFA;AAAA;AAAA;AAAA;AAAsmC,CAAgB,6+BAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;ACkG1nC;AACA;AACA;AAQA;AACA;AAA+E;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAK/E,IAAMA,UAAU,GAAG;EACjBC,OAAO,EAAE;IACPC,cAAc,EAAE;;CAEnB;AACDF,UAAU,CAACG,KAAK,GAAG;EACjBC,WAAW,EAAE;IACXC,GAAG,EAAE,aAAa;IAClBC,QAAQ,E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","file":"TUIKit/components/TUIChat/message-input-toolbar/index.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=54fa2bd0&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=ts&\"\nexport * from \"./index.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"TUIKit/components/TUIChat/message-input-toolbar/index.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!../../../../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue2-script-setup!./index.vue?vue&type=template&id=54fa2bd0&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 =\n    !(_vm.props.displayType === \"emojiPicker\") && _vm.currentExtensionList[0]\n      ? _vm.__map(\n          _vm.currentExtensionList.slice(0, 4),\n          function (extension, index) {\n            var $orig = _vm.__get_orig(extension)\n            var m0 = extension ? _vm.genExtensionIcon(extension) : null\n            var m1 = extension ? _vm.genExtensionText(extension) : null\n            return {\n              $orig: $orig,\n              m0: m0,\n              m1: m1,\n            }\n          }\n        )\n      : null\n  var g0 = !(_vm.props.displayType === \"emojiPicker\")\n    ? _vm.currentExtensionList.length\n    : null\n  var g1 = !(_vm.props.displayType === \"emojiPicker\")\n    ? _vm.currentExtensionList.length\n    : null\n  var g2 = !(_vm.props.displayType === \"emojiPicker\")\n    ? _vm.currentExtensionList[2] && _vm.currentExtensionList.length >= 3\n    : null\n  var l1 =\n    !(_vm.props.displayType === \"emojiPicker\") && g2\n      ? _vm.__map(\n          _vm.currentExtensionList.slice(4),\n          function (extension, index) {\n            var $orig = _vm.__get_orig(extension)\n            var m2 = extension ? _vm.genExtensionIcon(extension) : null\n            var m3 = extension ? _vm.genExtensionText(extension) : null\n            return {\n              $orig: $orig,\n              m2: m2,\n              m3: m3,\n            }\n          }\n        )\n      : null\n  var g3 =\n    !(_vm.props.displayType === \"emojiPicker\") && g2\n      ? _vm.currentExtensionList.length\n      : null\n  var g4 =\n    !(_vm.props.displayType === \"emojiPicker\") && g2\n      ? _vm.currentExtensionList.length\n      : null\n  if (!_vm._isMounted) {\n    _vm.e0 = function ($event, extension) {\n      var _temp = arguments[arguments.length - 1].currentTarget.dataset,\n        _temp2 = _temp.eventParams || _temp[\"event-params\"],\n        extension = _temp2.extension\n      var _temp, _temp2\n      return _vm.onExtensionClick(extension)\n    }\n    _vm.e1 = function ($event, extension) {\n      var _temp3 = arguments[arguments.length - 1].currentTarget.dataset,\n        _temp4 = _temp3.eventParams || _temp3[\"event-params\"],\n        extension = _temp4.extension\n      var _temp3, _temp4\n      return _vm.onExtensionClick(extension)\n    }\n  }\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0,\n        g0: g0,\n        g1: g1,\n        g2: g2,\n        l1: l1,\n        g3: g3,\n        g4: g4,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/ts-loader/index.js??ref--14-1!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--14-2!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!../../../../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue2-script-setup!./index.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/ts-loader/index.js??ref--14-1!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--14-2!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!../../../../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue2-script-setup!./index.vue?vue&type=script&lang=ts&\"","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { ref, onUnmounted, onMounted } from '../../../adapter-vue';\nimport TUIChatEngine, { IConversationModel, TUIStore, StoreName } from '@tencentcloud/chat-uikit-engine';\nimport TUICore, { ExtensionInfo, TUIConstants } from '@tencentcloud/tui-core';\nimport ImageUpload from './image-upload/index.vue';\nimport VideoUpload from './video-upload/index.vue';\nimport Evaluate from './evaluate/index.vue';\nimport Words from './words/index.vue';\nimport ToolbarItemContainer from './toolbar-item-container/index.vue';\nimport EmojiPickerDialog from './emoji-picker/emoji-picker-dialog.vue';\nimport UserSelector from './user-selector/index.vue';\nimport TUIChatConfig from '../config';\nimport { enableSampleTaskStatus } from '../../../utils/enableSampleTaskStatus';\nimport { ToolbarDisplayType } from '../../../interface';\ninterface IProps {\n  displayType: ToolbarDisplayType;\n}\nconst __sfc_main = {\n  options: {\n    styleIsolation: 'shared'\n  }\n};\n__sfc_main.props = {\n  displayType: {\n    key: \"displayType\",\n    required: true,\n    type: null\n  }\n};\n__sfc_main.setup = (__props, __ctx) => {\n  const props = __props;\n  const currentConversation = ref<IConversationModel>();\n  const isGroup = ref<boolean>(false);\n  const selectorShowType = ref<string>('');\n  const userSelectorRef = ref();\n  const currentUserSelectorExtension = ref<ExtensionInfo | null>();\n  const currentExtensionList = ref<ExtensionInfo[]>([]);\n  const isSwiperIndicatorDotsEnable = ref<boolean>(false);\n\n  // extensions\n  const extensionList: ExtensionInfo[] = [...TUICore.getExtensionList(TUIConstants.TUIChat.EXTENSION.INPUT_MORE.EXT_ID)];\n  const getExtensionList = (conversationID: string) => {\n    if (!conversationID) {\n      // uniapp build ios app has null in last index need to filter\n      return currentExtensionList.value = extensionList.filter(extension => extension);\n    }\n    const chatType = TUIChatConfig.getChatType();\n    const options: any = {\n      chatType\n    };\n    // 向下兼容，callkit 没有chatType 判断时，使用 filterVoice、filterVideo 过滤\n    if (chatType === 'customerService') {\n      options.filterVoice = true;\n      options.filterVideo = true;\n      enableSampleTaskStatus('customerService');\n    }\n    // uniapp build ios app has null in last index need to filter\n    currentExtensionList.value = [...TUICore.getExtensionList(TUIConstants.TUIChat.EXTENSION.INPUT_MORE.EXT_ID, options)].filter(extension => extension);\n  };\n  const onCurrentConversationUpdate = (conversation: IConversationModel) => {\n    if (conversation?.conversationID && currentConversation.value?.conversationID !== conversation?.conversationID) {\n      getExtensionList(conversation?.conversationID);\n      if (currentExtensionList.value.length > 2) {\n        isSwiperIndicatorDotsEnable.value = true;\n      }\n    }\n    currentConversation.value = conversation;\n    if (currentConversation?.value?.type === TUIChatEngine.TYPES.CONV_GROUP) {\n      isGroup.value = true;\n    } else {\n      isGroup.value = false;\n    }\n  };\n  onMounted(() => {\n    TUIStore.watch(StoreName.CONV, {\n      currentConversation: onCurrentConversationUpdate\n    });\n  });\n  onUnmounted(() => {\n    TUIStore.unwatch(StoreName.CONV, {\n      currentConversation: onCurrentConversationUpdate\n    });\n  });\n\n  // handle extensions onclick\n  const onExtensionClick = (extension: ExtensionInfo) => {\n    // uniapp vue2 build wx lose listener proto\n    const extensionModel = currentExtensionList.value.find(targetExtension => targetExtension?.data?.name === extension?.data?.name);\n    switch (extensionModel?.data?.name) {\n      case 'voiceCall':\n        onCallExtensionClicked(extensionModel, 1);\n        break;\n      case 'videoCall':\n        onCallExtensionClicked(extensionModel, 2);\n        break;\n      case 'search':\n        extensionModel?.listener?.onClicked?.();\n        break;\n      default:\n        break;\n    }\n  };\n  const onCallExtensionClicked = (extension: ExtensionInfo, callType: number) => {\n    selectorShowType.value = extension?.data?.name;\n    if (currentConversation?.value?.type === TUIChatEngine.TYPES.CONV_C2C) {\n      extension?.listener?.onClicked?.({\n        userIDList: [currentConversation?.value?.conversationID?.slice(3)],\n        type: callType\n      });\n    } else if (isGroup.value) {\n      currentUserSelectorExtension.value = extension;\n      userSelectorRef?.value?.toggleShow && userSelectorRef.value.toggleShow(true);\n    }\n  };\n  const genExtensionIcon = (extension: any) => {\n    return extension?.icon;\n  };\n  const genExtensionText = (extension: any) => {\n    return extension?.text;\n  };\n  const onUserSelectorSubmit = (selectedInfo: any) => {\n    currentUserSelectorExtension.value?.listener?.onClicked?.(selectedInfo);\n    currentUserSelectorExtension.value = null;\n  };\n  const onUserSelectorCancel = () => {\n    currentUserSelectorExtension.value = null;\n  };\n  const handleSwiperDotShow = (showStatus: boolean) => {\n    isSwiperIndicatorDotsEnable.value = currentExtensionList.value.length > 2 ? !showStatus : false;\n  };\n  return {\n    props,\n    currentConversation,\n    isGroup,\n    selectorShowType,\n    userSelectorRef,\n    currentExtensionList,\n    isSwiperIndicatorDotsEnable,\n    onExtensionClick,\n    genExtensionIcon,\n    genExtensionText,\n    onUserSelectorSubmit,\n    onUserSelectorCancel,\n    handleSwiperDotShow\n  };\n};\n__sfc_main.components = Object.assign({\n  EmojiPickerDialog,\n  ImageUpload,\n  VideoUpload,\n  ToolbarItemContainer,\n  Evaluate,\n  Words,\n  UserSelector\n}, __sfc_main.components);\nexport default __sfc_main;\n","import mod from \"-!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!../../../../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue2-script-setup!./index.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!../../../../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue2-script-setup!./index.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1718595313703\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}