{"version":3,"sources":["webpack:////Users/wangwenle/Documents/有钱花/搭伙/build-fire/TUIKit/components/TUIChat/message-input-toolbar/emoji-picker/emoji-picker-dialog.vue?418c","webpack:////Users/wangwenle/Documents/有钱花/搭伙/build-fire/TUIKit/components/TUIChat/message-input-toolbar/emoji-picker/emoji-picker-dialog.vue?acd0","webpack:////Users/wangwenle/Documents/有钱花/搭伙/build-fire/TUIKit/components/TUIChat/message-input-toolbar/emoji-picker/emoji-picker-dialog.vue?f32e","webpack:////Users/wangwenle/Documents/有钱花/搭伙/build-fire/TUIKit/components/TUIChat/message-input-toolbar/emoji-picker/emoji-picker-dialog.vue?a4da","uni-app:///TUIKit/components/TUIChat/message-input-toolbar/emoji-picker/emoji-picker-dialog.vue?vue&type=script&lang=ts&"],"names":["__sfc_main","setup","__props","__ctx","emits","emit","list","emojiList","currentTabIndex","currentTabItem","value","currentEmojiList","currentConversation","emojiPickerDialog","emojiPickerListRef","TUIStore","watch","StoreName","CONV","onCurrentConversationUpdate","unwatch","toggleEmojiTab","index","isUniFrameWork","scrollTop","select","item","options","emoji","key","name","basicEmojiList","type","EMOJI_TYPE","BASIC","url","basicEmojiMap","uni","$emit","BIG","sendFaceMessage","CUSTOM","isPC","listItem","to","groupProfile","groupID","userProfile","userID","conversationType","payload","data","needReadReceipt","TUIChatService","sendMessage","conversation","faceIcon","components","Object","assign","Icon"],"mappings":"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","file":"TUIKit/components/TUIChat/message-input-toolbar/emoji-picker/emoji-picker-dialog.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./emoji-picker-dialog.vue?vue&type=template&id=1a4b4f78&scoped=true&\"\nvar renderjs\nimport script from \"./emoji-picker-dialog.vue?vue&type=script&lang=ts&\"\nexport * from \"./emoji-picker-dialog.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./style/index.scss?vue&type=style&index=0&id=1a4b4f78&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1a4b4f78\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"TUIKit/components/TUIChat/message-input-toolbar/emoji-picker/emoji-picker-dialog.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!../../../../../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue2-script-setup!./emoji-picker-dialog.vue?vue&type=template&id=1a4b4f78&scoped=true&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/ts-loader/index.js??ref--14-1!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--14-2!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!../../../../../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue2-script-setup!./emoji-picker-dialog.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/ts-loader/index.js??ref--14-1!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--14-2!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!../../../../../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue2-script-setup!./emoji-picker-dialog.vue?vue&type=script&lang=ts&\"","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { ref, onMounted, onUnmounted } from '../../../../adapter-vue';\nimport { TUIChatService, TUIStore, StoreName, IConversationModel, SendMessageParams } from '@tencentcloud/chat-uikit-engine';\nimport Icon from '../../../common/Icon.vue';\nimport faceIcon from '../../../../assets/icon/face.png';\nimport { EMOJI_TYPE } from '.././../../../constant';\nimport { isPC, isUniFrameWork } from '../../../../utils/env';\nimport { IEmojiList, IEmojiListItem } from '../../../../interface';\nimport { isEnabledMessageReadReceiptGlobal } from '../../utils/utils';\nimport { emojiList, basicEmojiMap, basicEmojiList } from '../../utils/emojiList';\nconst __sfc_main = {};\n__sfc_main.setup = (__props, __ctx) => {\n  const emits = __ctx.emit;\n  const list = ref<IEmojiList>(emojiList);\n  const currentTabIndex = ref<number>(0);\n  const currentTabItem = ref<IEmojiListItem>(list?.value[0]);\n  const currentEmojiList = ref<string[]>(list?.value[0]?.list);\n  const currentConversation = ref();\n  const emojiPickerDialog = ref();\n  const emojiPickerListRef = ref();\n  onMounted(() => {\n    TUIStore.watch(StoreName.CONV, {\n      currentConversation: onCurrentConversationUpdate\n    });\n  });\n  onUnmounted(() => {\n    TUIStore.unwatch(StoreName.CONV, {\n      currentConversation: onCurrentConversationUpdate\n    });\n  });\n  const toggleEmojiTab = (index: number) => {\n    currentTabIndex.value = index;\n    currentTabItem.value = list?.value[index];\n    currentEmojiList.value = list?.value[index]?.list;\n    // 滚动条回滚到顶部\n    // 原生 web & h5\n    if (!isUniFrameWork) {\n      emojiPickerListRef?.value && (emojiPickerListRef.value.scrollTop = 0);\n    }\n  };\n  const select = (item: any, index: number) => {\n    const options: any = {\n      emoji: {\n        key: item,\n        name: basicEmojiList[item]\n      },\n      type: currentTabItem?.value?.type\n    };\n    switch (currentTabItem?.value?.type) {\n      case EMOJI_TYPE.BASIC:\n        options.url = currentTabItem?.value?.url + basicEmojiMap[item];\n        if (isUniFrameWork) {\n          uni.$emit('insert-emoji', options);\n        } else {\n          emits('insertEmoji', options);\n        }\n        break;\n      case EMOJI_TYPE.BIG:\n        sendFaceMessage(index, currentTabItem.value);\n        break;\n      case EMOJI_TYPE.CUSTOM:\n        sendFaceMessage(index, currentTabItem.value);\n        break;\n      default:\n        break;\n    }\n    isPC && emits('onClose');\n  };\n  const sendFaceMessage = (index: number, listItem: IEmojiListItem) => {\n    const options = ({\n      to: currentConversation?.value?.groupProfile?.groupID || currentConversation?.value?.userProfile?.userID,\n      conversationType: currentConversation?.value?.type,\n      payload: {\n        index: listItem.index,\n        data: listItem.list[index]\n      },\n      needReadReceipt: isEnabledMessageReadReceiptGlobal()\n    } as SendMessageParams);\n    TUIChatService.sendFaceMessage(options);\n  };\n  function sendMessage() {\n    uni.$emit('send-message-in-emoji-picker');\n  }\n  function onCurrentConversationUpdate(conversation: IConversationModel) {\n    currentConversation.value = conversation;\n  }\n  return {\n    faceIcon,\n    EMOJI_TYPE,\n    isPC,\n    isUniFrameWork,\n    basicEmojiMap,\n    list,\n    currentTabItem,\n    currentEmojiList,\n    emojiPickerDialog,\n    emojiPickerListRef,\n    toggleEmojiTab,\n    select,\n    sendMessage\n  };\n};\n__sfc_main.components = Object.assign({\n  Icon\n}, __sfc_main.components);\nexport default __sfc_main;\n"],"sourceRoot":""}