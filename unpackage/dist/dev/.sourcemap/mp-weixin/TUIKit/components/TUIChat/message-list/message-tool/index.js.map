{"version":3,"sources":["webpack:////Users/wangwenle/Documents/有钱花/搭伙/build-fire/TUIKit/components/TUIChat/message-list/message-tool/index.vue?e79a","webpack:////Users/wangwenle/Documents/有钱花/搭伙/build-fire/TUIKit/components/TUIChat/message-list/message-tool/index.vue?83a5","webpack:////Users/wangwenle/Documents/有钱花/搭伙/build-fire/TUIKit/components/TUIChat/message-list/message-tool/index.vue?1d17","webpack:////Users/wangwenle/Documents/有钱花/搭伙/build-fire/TUIKit/components/TUIChat/message-list/message-tool/index.vue?ff7b","uni-app:///TUIKit/components/TUIChat/message-list/message-tool/index.vue?vue&type=script&lang=ts&","webpack:////Users/wangwenle/Documents/有钱花/搭伙/build-fire/TUIKit/components/TUIChat/message-list/message-tool/index.vue?1039","webpack:////Users/wangwenle/Documents/有钱花/搭伙/build-fire/TUIKit/components/TUIChat/message-list/message-tool/index.vue?a0f4"],"names":["__sfc_main","props","messageItem","key","required","type","default","setup","__props","__ctx","TYPES","TUIChatEngine","actionItems","text","TUITranslateService","t","iconUrl","copyIcon","renderCondition","message","value","isPC","MSG_FILE","MSG_VIDEO","MSG_IMAGE","clickEvent","openMessage","MSG_TEXT","copyMessage","revokeIcon","flow","status","revokeMessage","delIcon","deleteMessage","forwardIcon","forwardSingleMessage","quoteIcon","_message","TUIStore","getMessageModel","ID","getSignalingInfo","quoteMessage","visible","translateIcon","translateMessage","convertText","MSG_AUDIO","convertVoiceToText","messageToolDom","watch","StoreName","CHAT","translateTextInfo","onMessageTranslationInfoUpdated","voiceToTextInfo","onMessageConvertInfoUpdated","unwatch","isAllActionItemInvalid","i","length","getFunction","index","url","payload","fileUrl","remoteVideoUrl","imageInfoArray","open","messageModel","then","catch","error","code","TOAST_TYPE","ERROR","isUniFrameWork","TUIGlobal","setClipboardData","data","update","CUSTOM","enable","getData","APP","WARNING","findIndex","item","conversationID","messageID","info","undefined","translationInfoList","get","idx","convertInfoList","Object","assign","components","Icon"],"mappings":"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","file":"TUIKit/components/TUIChat/message-list/message-tool/index.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=233f4987&scoped=true&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=ts&\"\nexport * from \"./index.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=233f4987&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"233f4987\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"TUIKit/components/TUIChat/message-list/message-tool/index.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!../../../../../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue2-script-setup!./index.vue?vue&type=template&id=233f4987&scoped=true&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 =\n    !_vm.isAllActionItemInvalid && !_vm.messageItem.hasRiskContent\n      ? _vm.__map(_vm.actionItems, function (item, index) {\n          var $orig = _vm.__get_orig(item)\n          var g0 = item.renderCondition()\n          return {\n            $orig: $orig,\n            g0: g0,\n          }\n        })\n      : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/ts-loader/index.js??ref--14-1!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--14-2!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!../../../../../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue2-script-setup!./index.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/ts-loader/index.js??ref--14-1!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--14-2!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!../../../../../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue2-script-setup!./index.vue?vue&type=script&lang=ts&\"","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport TUIChatEngine, { TUIStore, StoreName, TUITranslateService, IMessageModel } from '@tencentcloud/chat-uikit-engine';\nimport { TUIGlobal } from '@tencentcloud/universal-api';\nimport { ref, watchEffect, computed, onMounted, onUnmounted } from '../../../../adapter-vue';\nimport Icon from '../../../common/Icon.vue';\nimport { Toast, TOAST_TYPE } from '../../../common/Toast/index';\nimport delIcon from '../../../../assets/icon/msg-del.svg';\nimport copyIcon from '../../../../assets/icon/msg-copy.svg';\nimport quoteIcon from '../../../../assets/icon/msg-quote.svg';\nimport revokeIcon from '../../../../assets/icon/msg-revoke.svg';\nimport forwardIcon from '../../../../assets/icon/msg-forward.svg';\nimport translateIcon from '../../../../assets/icon/translate.svg';\nimport convertText from '../../../../assets/icon/convertText_zh.svg';\nimport { enableSampleTaskStatus } from '../../../../utils/enableSampleTaskStatus';\nimport { copyText } from '../../utils/utils';\nimport { decodeTextMessage } from '../../utils/emojiList';\nimport { isPC, isUniFrameWork } from '../../../../utils/env';\nimport { ITranslateInfo, IConvertInfo } from '../../../../interface';\ninterface IProps {\n  messageItem: IMessageModel;\n}\nconst __sfc_main = {};\n__sfc_main.props = {\n  messageItem: {\n    key: \"messageItem\",\n    required: false,\n    type: null,\n    default: () => ({} as IMessageModel)\n  }\n};\n__sfc_main.setup = (__props, __ctx) => {\n  const props = __props;\n  const TYPES = TUIChatEngine.TYPES;\n  const actionItems = ref([{\n    key: 'open',\n    text: TUITranslateService.t('TUIChat.打开'),\n    iconUrl: copyIcon,\n    renderCondition() {\n      if (!message.value) return false;\n      return isPC && (message.value?.type === TYPES.MSG_FILE || message.value.type === TYPES.MSG_VIDEO || message.value.type === TYPES.MSG_IMAGE);\n    },\n    clickEvent: openMessage\n  }, {\n    key: 'copy',\n    text: TUITranslateService.t('TUIChat.复制'),\n    iconUrl: copyIcon,\n    renderCondition() {\n      if (!message.value) return false;\n      return message.value.type === TYPES.MSG_TEXT;\n    },\n    clickEvent: copyMessage\n  }, {\n    key: 'revoke',\n    text: TUITranslateService.t('TUIChat.撤回'),\n    iconUrl: revokeIcon,\n    renderCondition() {\n      if (!message.value) return false;\n      return message.value.flow === 'out' && message.value.status === 'success';\n    },\n    clickEvent: revokeMessage\n  }, {\n    key: 'delete',\n    text: TUITranslateService.t('TUIChat.删除'),\n    iconUrl: delIcon,\n    renderCondition() {\n      if (!message.value) return false;\n      return message.value.status === 'success';\n    },\n    clickEvent: deleteMessage\n  }, {\n    key: 'forward',\n    text: TUITranslateService.t('TUIChat.转发'),\n    iconUrl: forwardIcon,\n    renderCondition() {\n      if (!message.value) return false;\n      return message.value.status === 'success';\n    },\n    clickEvent: forwardSingleMessage\n  }, {\n    key: 'quote',\n    text: TUITranslateService.t('TUIChat.引用'),\n    iconUrl: quoteIcon,\n    renderCondition() {\n      if (!message.value) return false;\n      const _message = TUIStore.getMessageModel(message.value.ID);\n      return message.value.status === 'success' && !_message.getSignalingInfo();\n    },\n    clickEvent: quoteMessage\n  }, {\n    key: 'translate',\n    text: TUITranslateService.t('TUIChat.翻译'),\n    visible: false,\n    iconUrl: translateIcon,\n    renderCondition() {\n      if (!message.value) return false;\n      return message.value.status === 'success' && message.value.type === TYPES.MSG_TEXT;\n    },\n    clickEvent: translateMessage\n  }, {\n    key: 'convert',\n    text: TUITranslateService.t('TUIChat.转文字'),\n    visible: false,\n    iconUrl: convertText,\n    renderCondition() {\n      if (!message.value) return false;\n      return message.value.status === 'success' && message.value.type === TYPES.MSG_AUDIO;\n    },\n    clickEvent: convertVoiceToText\n  }]);\n  const message = ref<IMessageModel>();\n  const messageToolDom = ref<HTMLElement>();\n  onMounted(() => {\n    TUIStore.watch(StoreName.CHAT, {\n      translateTextInfo: onMessageTranslationInfoUpdated,\n      voiceToTextInfo: onMessageConvertInfoUpdated\n    });\n  });\n  onUnmounted(() => {\n    TUIStore.unwatch(StoreName.CHAT, {\n      translateTextInfo: onMessageTranslationInfoUpdated,\n      voiceToTextInfo: onMessageConvertInfoUpdated\n    });\n  });\n  watchEffect(() => {\n    message.value = TUIStore.getMessageModel(props.messageItem.ID);\n  });\n  const isAllActionItemInvalid = computed(() => {\n    for (let i = 0; i < actionItems.value.length; ++i) {\n      if (actionItems.value[i].renderCondition()) {\n        return false;\n      }\n    }\n    return true;\n  });\n  function getFunction(index: number) {\n    // 兼容 vue2 小程序的写法 不允许动态绑定\n    actionItems.value[index].clickEvent();\n  }\n  function openMessage() {\n    let url = '';\n    switch (message.value?.type) {\n      case TUIChatEngine.TYPES.MSG_FILE:\n        url = message.value.payload.fileUrl;\n        break;\n      case TUIChatEngine.TYPES.MSG_VIDEO:\n        url = message.value.payload.remoteVideoUrl;\n        break;\n      case TUIChatEngine.TYPES.MSG_IMAGE:\n        url = message.value.payload.imageInfoArray[0].url;\n        break;\n    }\n    window?.open(url, '_blank');\n  }\n  function revokeMessage() {\n    if (!message.value) return;\n    // 获取 messageModel\n    const messageModel = TUIStore.getMessageModel(message.value.ID);\n    messageModel.revokeMessage().then(() => {\n      enableSampleTaskStatus('revokeMessage');\n    }).catch((error: any) => {\n      // 调用异常时业务侧可以通过 promise.catch 捕获异常进行错误处理\n      if (error.code === 20016) {\n        const message = TUITranslateService.t('TUIChat.已过撤回时限');\n        Toast({\n          message,\n          type: TOAST_TYPE.ERROR\n        });\n      }\n    });\n  }\n  function deleteMessage() {\n    if (!message.value) return;\n    // 获取 messageModel\n    const messageModel = TUIStore.getMessageModel(message.value.ID);\n    messageModel.deleteMessage();\n  }\n  async function copyMessage() {\n    const text = decodeTextMessage(message.value?.payload?.text);\n    if (isUniFrameWork) {\n      TUIGlobal?.setClipboardData({\n        data: text\n      });\n    } else {\n      copyText(text);\n    }\n  }\n  function forwardSingleMessage() {\n    if (!message.value) return;\n    TUIStore.update(StoreName.CUSTOM, 'singleForwardMessageID', message.value.ID);\n  }\n  function quoteMessage() {\n    if (!message.value) return;\n    message.value.quoteMessage();\n  }\n  function translateMessage() {\n    const enable = TUIStore.getData(StoreName.APP, 'enabledTranslationPlugin');\n    if (!enable) {\n      Toast({\n        message: TUITranslateService.t('TUIChat.请开通翻译功能'),\n        type: TOAST_TYPE.WARNING\n      });\n      return;\n    }\n    if (!message.value) return;\n    const index = actionItems.value.findIndex(item => item.key === 'translate');\n    TUIStore.update(StoreName.CHAT, 'translateTextInfo', {\n      conversationID: message.value.conversationID,\n      messageID: message.value.ID,\n      visible: !actionItems.value[index].visible\n    });\n  }\n  function convertVoiceToText() {\n    const enable = TUIStore.getData(StoreName.APP, 'enabledVoiceToText');\n    if (!enable) {\n      Toast({\n        message: TUITranslateService.t('TUIChat.请开通语音转文字功能')\n      });\n      return;\n    }\n    if (!message.value) return;\n    const index = actionItems.value.findIndex(item => item.key === 'convert');\n    TUIStore.update(StoreName.CHAT, 'voiceToTextInfo', {\n      conversationID: message.value.conversationID,\n      messageID: message.value.ID,\n      visible: !actionItems.value[index].visible\n    });\n  }\n  function onMessageTranslationInfoUpdated(info: Map<string, ITranslateInfo[]>) {\n    if (info === undefined) return;\n    const translationInfoList = info.get(props.messageItem.conversationID) || [];\n    const idx = actionItems.value.findIndex(item => item.key === 'translate');\n    for (let i = 0; i < translationInfoList.length; ++i) {\n      const {\n        messageID,\n        visible\n      } = translationInfoList[i];\n      if (messageID === props.messageItem.ID) {\n        actionItems.value[idx].text = TUITranslateService.t(visible ? 'TUIChat.隐藏' : 'TUIChat.翻译');\n        actionItems.value[idx].visible = !!visible;\n        return;\n      }\n    }\n    actionItems.value[idx].text = TUITranslateService.t('TUIChat.翻译');\n  }\n  function onMessageConvertInfoUpdated(info: Map<string, IConvertInfo[]>) {\n    if (info === undefined) return;\n    const convertInfoList = info.get(props.messageItem.conversationID) || [];\n    const idx = actionItems.value.findIndex(item => item.key === 'convert');\n    for (let i = 0; i < convertInfoList.length; ++i) {\n      const {\n        messageID,\n        visible\n      } = convertInfoList[i];\n      if (messageID === props.messageItem.ID) {\n        actionItems.value[idx].text = TUITranslateService.t(visible ? 'TUIChat.隐藏' : 'TUIChat.转文字');\n        actionItems.value[idx].visible = !!visible;\n        return;\n      }\n    }\n    actionItems.value[idx].text = TUITranslateService.t('TUIChat.转文字');\n  }\n  return Object.assign({\n    isPC,\n    actionItems,\n    messageToolDom,\n    isAllActionItemInvalid,\n    getFunction\n  }, {\n    messageToolDom\n  });\n};\n__sfc_main.components = Object.assign({\n  Icon\n}, __sfc_main.components);\nexport default __sfc_main;\n","import mod from \"-!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!../../../../../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue2-script-setup!./index.vue?vue&type=style&index=0&id=233f4987&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!../../../../../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue2-script-setup!./index.vue?vue&type=style&index=0&id=233f4987&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1718595321203\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}