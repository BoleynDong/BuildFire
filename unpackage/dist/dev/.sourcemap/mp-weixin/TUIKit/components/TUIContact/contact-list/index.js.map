{"version":3,"sources":["webpack:////Users/wangwenle/Documents/有钱花/搭伙/build-fire/TUIKit/components/TUIContact/contact-list/index.vue?8b21","webpack:////Users/wangwenle/Documents/有钱花/搭伙/build-fire/TUIKit/components/TUIContact/contact-list/index.vue?086e","webpack:////Users/wangwenle/Documents/有钱花/搭伙/build-fire/TUIKit/components/TUIContact/contact-list/index.vue?cf07","webpack:////Users/wangwenle/Documents/有钱花/搭伙/build-fire/TUIKit/components/TUIContact/contact-list/index.vue?c48f","uni-app:///TUIKit/components/TUIContact/contact-list/index.vue?vue&type=script&lang=ts&"],"names":["__sfc_main","setup","__props","__ctx","currentContactListKey","currentContactInfo","contactListMap","friendApplicationList","key","title","list","unreadCount","blackList","groupList","friendList","contactSearchingStatus","contactSearchResult","displayOnlineStatus","userOnlineStatusMap","isContactSearchNoResult","value","user","group","TUIStore","watch","StoreName","APP","enabledCustomerServicePlugin","onCustomerServiceCommercialPluginUpdated","GRP","onGroupListUpdated","USER","userBlacklist","onUserBlacklistUpdated","onDisplayOnlineStatusUpdated","userStatusList","onUserStatusListUpdated","FRIEND","onFriendListUpdated","onFriendApplicationListUpdated","friendApplicationUnreadCount","onFriendApplicationUnreadCountUpdated","CUSTOM","currentContactSearchingStatus","onCurrentContactSearchingStatusUpdated","currentContactSearchResult","onCurrentContactSearchResultUpdated","onCurrentContactListKeyUpdated","onCurrentContactInfoUpdated","unwatch","toggleCurrentContactList","update","TUIFriendService","setFriendApplicationRead","selectItem","item","targetListItem","userID","find","groupID","status","size","Object","fromEntries","entries","isEnabled","contactListExtensionID","TUIConstants","TUIContact","EXTENSION","CONTACT_LIST","EXT_ID","tuiContactExtensionList","TUICore","getExtensionList","customerData","extension","data","name","accountList","length","text","TUIUserService","getUserProfile","userIDList","then","res","customerList","map","index","renderKey","generateRenderKey","infoKeyList","btnKeyList","catch","updateContactListMap","updateCurrentContactInfoFromList","type","contactListMapKey","contactInfo","searchResult","searchingStatus","contactListKey","TUITranslateService","downSVG","rightSVG","isPC","components","assign","Icon","ContactListItem"],"mappings":"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","file":"TUIKit/components/TUIContact/contact-list/index.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=84a2d2e2&scoped=true&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=ts&\"\nexport * from \"./index.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./style/index.scss?vue&type=style&index=0&id=84a2d2e2&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"84a2d2e2\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"TUIKit/components/TUIContact/contact-list/index.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!../../../../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue2-script-setup!./index.vue?vue&type=template&id=84a2d2e2&scoped=true&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = !_vm.contactSearchingStatus\n    ? _vm.__map(_vm.contactListMap, function (contactListObj, key) {\n        var $orig = _vm.__get_orig(contactListObj)\n        var g0 = _vm.TUITranslateService.t(\"TUIContact.\" + contactListObj.title)\n        return {\n          $orig: $orig,\n          g0: g0,\n        }\n      })\n    : null\n  var l1 = !!_vm.contactSearchingStatus\n    ? _vm.__map(_vm.contactSearchResult, function (item, key) {\n        var $orig = _vm.__get_orig(item)\n        var g1 = item.list[0]\n          ? _vm.TUITranslateService.t(\"TUIContact.\" + item.label)\n          : null\n        return {\n          $orig: $orig,\n          g1: g1,\n        }\n      })\n    : null\n  var g2 =\n    !!_vm.contactSearchingStatus && _vm.isContactSearchNoResult\n      ? _vm.TUITranslateService.t(\"TUIContact.无搜索结果\")\n      : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0,\n        l1: l1,\n        g2: g2,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/ts-loader/index.js??ref--14-1!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--14-2!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!../../../../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue2-script-setup!./index.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/ts-loader/index.js??ref--14-1!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--14-2!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!../../../../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue2-script-setup!./index.vue?vue&type=script&lang=ts&\"","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { TUITranslateService, TUIStore, StoreName, IGroupModel, TUIFriendService, Friend, FriendApplication, TUIUserService } from '@tencentcloud/chat-uikit-engine';\nimport TUICore, { TUIConstants } from '@tencentcloud/tui-core';\nimport { ref, computed, onMounted, onUnmounted, provide } from '../../../adapter-vue';\nimport Icon from '../../common/Icon.vue';\nimport downSVG from '../../../assets/icon/down-icon.svg';\nimport rightSVG from '../../../assets/icon/right-icon.svg';\nimport { IContactList, IContactSearchResult, IBlackListUserItem, IUserStatus, IUserStatusMap, IContactInfoType } from '../../../interface';\nimport ContactListItem from './contact-list-item/index.vue';\nimport { isPC } from '../../../utils/env';\nconst __sfc_main = {};\n__sfc_main.setup = (__props, __ctx) => {\n  const currentContactListKey = ref<keyof IContactList>('');\n  const currentContactInfo = ref<IContactInfoType>(({} as IContactInfoType));\n  const contactListMap = ref<IContactList>({\n    friendApplicationList: {\n      key: 'friendApplicationList',\n      title: '新的联系人',\n      list: ([] as FriendApplication[]),\n      unreadCount: 0\n    },\n    blackList: {\n      key: 'blackList',\n      title: '黑名单',\n      list: ([] as IBlackListUserItem[])\n    },\n    groupList: {\n      key: 'groupList',\n      title: '我的群聊',\n      list: ([] as IGroupModel[])\n    },\n    friendList: {\n      key: 'friendList',\n      title: '我的好友',\n      list: ([] as Friend[])\n    }\n  });\n  const contactSearchingStatus = ref<boolean>(false);\n  const contactSearchResult = ref<IContactSearchResult>();\n  const displayOnlineStatus = ref<boolean>(false);\n  const userOnlineStatusMap = ref<IUserStatusMap>();\n  const isContactSearchNoResult = computed((): boolean => {\n    return !contactSearchResult?.value?.user?.list[0] && !contactSearchResult?.value?.group?.list[0];\n  });\n  onMounted(() => {\n    TUIStore.watch(StoreName.APP, {\n      enabledCustomerServicePlugin: onCustomerServiceCommercialPluginUpdated\n    });\n    TUIStore.watch(StoreName.GRP, {\n      groupList: onGroupListUpdated\n    });\n    TUIStore.watch(StoreName.USER, {\n      userBlacklist: onUserBlacklistUpdated,\n      displayOnlineStatus: onDisplayOnlineStatusUpdated,\n      userStatusList: onUserStatusListUpdated\n    });\n    TUIStore.watch(StoreName.FRIEND, {\n      friendList: onFriendListUpdated,\n      friendApplicationList: onFriendApplicationListUpdated,\n      friendApplicationUnreadCount: onFriendApplicationUnreadCountUpdated\n    });\n    TUIStore.watch(StoreName.CUSTOM, {\n      currentContactSearchingStatus: onCurrentContactSearchingStatusUpdated,\n      currentContactSearchResult: onCurrentContactSearchResultUpdated,\n      currentContactListKey: onCurrentContactListKeyUpdated,\n      currentContactInfo: onCurrentContactInfoUpdated\n    });\n  });\n  onUnmounted(() => {\n    TUIStore.unwatch(StoreName.APP, {\n      enabledCustomerServicePlugin: onCustomerServiceCommercialPluginUpdated\n    });\n    TUIStore.unwatch(StoreName.GRP, {\n      groupList: onGroupListUpdated\n    });\n    TUIStore.unwatch(StoreName.USER, {\n      userBlacklist: onUserBlacklistUpdated,\n      displayOnlineStatus: onDisplayOnlineStatusUpdated,\n      userStatusList: onUserStatusListUpdated\n    });\n    TUIStore.unwatch(StoreName.FRIEND, {\n      friendList: onFriendListUpdated,\n      friendApplicationList: onFriendApplicationListUpdated,\n      friendApplicationUnreadCount: onFriendApplicationUnreadCountUpdated\n    });\n    TUIStore.unwatch(StoreName.CUSTOM, {\n      currentContactSearchingStatus: onCurrentContactSearchingStatusUpdated,\n      currentContactSearchResult: onCurrentContactSearchResultUpdated,\n      currentContactListKey: onCurrentContactListKeyUpdated,\n      currentContactInfo: onCurrentContactInfoUpdated\n    });\n  });\n  function toggleCurrentContactList(key: keyof IContactList) {\n    if (currentContactListKey.value === key) {\n      currentContactListKey.value = '';\n      currentContactInfo.value = ({} as IContactInfoType);\n      TUIStore.update(StoreName.CUSTOM, 'currentContactListKey', '');\n      TUIStore.update(StoreName.CUSTOM, 'currentContactInfo', ({} as IContactInfoType));\n    } else {\n      currentContactListKey.value = key;\n      TUIStore.update(StoreName.CUSTOM, 'currentContactListKey', key);\n      if (key === 'friendApplicationList') {\n        TUIFriendService.setFriendApplicationRead();\n      }\n    }\n  }\n  function selectItem(item: any) {\n    currentContactInfo.value = item;\n    // 单独处理：\n    // 对于 搜索列表 中 某结果，查看 contactInfo 详情前，需要对于“已在群组列表/已在好友列表” 的情况进行数据更新，已获得更详细的信息\n    if (contactSearchingStatus.value) {\n      let targetListItem;\n      if ((currentContactInfo.value as Friend)?.userID) {\n        targetListItem = contactListMap.value?.friendList?.list?.find((item: IContactInfoType) => (item as Friend)?.userID === (currentContactInfo.value as Friend)?.userID);\n      } else if ((currentContactInfo.value as IGroupModel)?.groupID) {\n        targetListItem = contactListMap.value?.groupList?.list?.find((item: IContactInfoType) => (item as IGroupModel)?.groupID === (currentContactInfo.value as IGroupModel)?.groupID);\n      }\n      if (targetListItem) {\n        currentContactInfo.value = targetListItem;\n      }\n    }\n    // 更新数据\n    TUIStore.update(StoreName.CUSTOM, 'currentContactInfo', currentContactInfo.value);\n  }\n  function onDisplayOnlineStatusUpdated(status: boolean) {\n    displayOnlineStatus.value = status;\n  }\n  function onUserStatusListUpdated(list: Map<string, IUserStatus>) {\n    if (list?.size > 0) {\n      userOnlineStatusMap.value = Object.fromEntries(list?.entries());\n    }\n  }\n  function onCustomerServiceCommercialPluginUpdated(isEnabled: boolean) {\n    if (!isEnabled) {\n      return;\n    }\n\n    /// 客户购买客服插件后 engine 通过商业化能力位更新将 enabledCustomerServicePlugin 设置为 true\n    const contactListExtensionID = TUIConstants.TUIContact.EXTENSION.CONTACT_LIST.EXT_ID;\n    const tuiContactExtensionList = TUICore.getExtensionList(contactListExtensionID);\n    const customerData = tuiContactExtensionList.find((extension: any) => {\n      const {\n        name,\n        accountList = []\n      } = extension.data || {};\n      return name === 'customer' && accountList.length > 0;\n    });\n    if (customerData) {\n      const {\n        data,\n        text\n      } = customerData;\n      const {\n        accountList\n      } = ((data || {}) as {\n        accountList: string[];\n      });\n      TUIUserService.getUserProfile({\n        userIDList: accountList\n      }).then(res => {\n        if (res.data.length > 0) {\n          const customerList = {\n            title: text,\n            list: res.data.map((item: any, index: number) => {\n              return {\n                ...item,\n                renderKey: generateRenderKey('customerList', item, index),\n                infoKeyList: [],\n                btnKeyList: ['enterC2CConversation']\n              };\n            }),\n            key: 'customerList'\n          };\n          contactListMap.value = {\n            ...contactListMap.value,\n            customerList\n          };\n        }\n      }).catch(() => {});\n    }\n  }\n  function onGroupListUpdated(groupList: IGroupModel[]) {\n    updateContactListMap('groupList', groupList);\n  }\n  function onUserBlacklistUpdated(userBlacklist: IBlackListUserItem[]) {\n    updateContactListMap('blackList', userBlacklist);\n  }\n  function onFriendApplicationUnreadCountUpdated(friendApplicationUnreadCount: number) {\n    contactListMap.value.friendApplicationList.unreadCount = friendApplicationUnreadCount;\n  }\n  function onFriendListUpdated(friendList: Friend[]) {\n    updateContactListMap('friendList', friendList);\n  }\n  function onFriendApplicationListUpdated(friendApplicationList: FriendApplication[]) {\n    updateContactListMap('friendApplicationList', friendApplicationList);\n  }\n  function updateContactListMap(key: keyof IContactList, list: IContactInfoType[]) {\n    contactListMap.value[key].list = list;\n    contactListMap.value[key].list.map((item: IContactInfoType, index: number) => item.renderKey = generateRenderKey(key, item, index));\n    updateCurrentContactInfoFromList(contactListMap.value[key].list, key);\n  }\n  function updateCurrentContactInfoFromList(list: IContactInfoType[], type: keyof IContactList) {\n    if (!(currentContactInfo.value as Friend)?.userID && !(currentContactInfo.value as IGroupModel)?.groupID) {\n      return;\n    }\n    if (type === currentContactListKey.value || contactSearchingStatus.value) {\n      currentContactInfo.value = list?.find((item: any) => item?.groupID && item?.groupID === (currentContactInfo.value as IGroupModel)?.groupID || item?.userID && item?.userID === (currentContactInfo.value as Friend)?.userID) || ({} as IContactInfoType);\n      TUIStore.update(StoreName.CUSTOM, 'currentContactInfo', currentContactInfo.value);\n    }\n  }\n  function generateRenderKey(contactListMapKey: keyof IContactList, contactInfo: IContactInfoType, index: number) {\n    return `${contactListMapKey}-${(contactInfo as Friend).userID || (contactInfo as IGroupModel).groupID || 'index' + index}`;\n  }\n  function onCurrentContactSearchResultUpdated(searchResult: IContactSearchResult) {\n    contactSearchResult.value = searchResult;\n  }\n  function onCurrentContactSearchingStatusUpdated(searchingStatus: boolean) {\n    contactSearchingStatus.value = searchingStatus;\n    TUIStore.update(StoreName.CUSTOM, 'currentContactInfo', ({} as IContactInfoType));\n    TUIStore.update(StoreName.CUSTOM, 'currentContactListKey', '');\n  }\n  function onCurrentContactInfoUpdated(contactInfo: IContactInfoType) {\n    currentContactInfo.value = contactInfo;\n  }\n  function onCurrentContactListKeyUpdated(contactListKey: string) {\n    currentContactListKey.value = contactListKey;\n  }\n  provide('userOnlineStatusMap', userOnlineStatusMap);\n  return {\n    TUITranslateService,\n    downSVG,\n    rightSVG,\n    isPC,\n    currentContactListKey,\n    contactListMap,\n    contactSearchingStatus,\n    contactSearchResult,\n    displayOnlineStatus,\n    isContactSearchNoResult,\n    toggleCurrentContactList,\n    selectItem\n  };\n};\n__sfc_main.components = Object.assign({\n  Icon,\n  ContactListItem\n}, __sfc_main.components);\nexport default __sfc_main;\n"],"sourceRoot":""}